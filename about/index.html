<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Yew Trunk Welcome Page Example</title>
        <link rel="icon" href="/favicon-e7ed482c1ef3a4cb.png" integrity="sha384&#x2D;eBgMBmKLtuAGzPzFI&#x2B;&#x2B;F3F3ha2R6U&#x2F;UKXnPC&#x2B;nMB80TQJOw3ezx66wi&#x2B;vxfBo89x"/>

        <!-- Link to load the main app (fat app) -->
        

        <!-- Link to load the welcome page app -->
        
<script type="module" nonce="ifofktIOJgO71+TYlstY4w==">
import init, * as bindings from '/welcome-d45192163a7eabea.js';
const wasm = await init({ module_or_path: '/welcome-d45192163a7eabea_bg.wasm' });


window.wasmBindings = bindings;


dispatchEvent(new CustomEvent("TrunkApplicationStarted", {detail: {wasm}}));

</script>
        <base href="/" />
    <link rel="modulepreload" href="/welcome-d45192163a7eabea.js" crossorigin=anonymous integrity="sha384-Toem89PU6Ros8O02q+xJlQEgS/mHhZjVAqXvIfNgtonkgwpGTk+taCc0EY55+xcN"><link rel="preload" href="/welcome-d45192163a7eabea_bg.wasm" crossorigin=anonymous integrity="sha384-jzP9cyTCooQqhQ+sgf43AEF3Fsa/xqB4yy3o6kJLuPl2f+t90/oetzHVTHhly0+Z" as="fetch" type="application/wasm"></head>
    <body>
        <!-- The welcome app will be mounted here -->
        <div id="welcome"></div>

        <script type="module">
            function getBaseUrl() {
                const baseTag = document.querySelector("base");
                const href = baseTag ? baseTag.getAttribute("href") : "/";
                return href.endsWith("/") ? href : href + "/";
            }

            const baseUrl = getBaseUrl();
            const mainJsUrl = `${baseUrl}main.js`;

            async function load() {
                const { default: init, render_app } = await import(mainJsUrl);
                await init();
                window.render_app = render_app;
                console.log(
                    "WASM module initialized and render_app function exposed globally",
                );
            }

            load();
        </script>
    </body>
</html>
